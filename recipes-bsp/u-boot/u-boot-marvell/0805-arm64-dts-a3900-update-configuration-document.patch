From e092155309a05ba57c20eda111e4a69bc5716406 Mon Sep 17 00:00:00 2001
From: Igal Liberman <igall@marvell.com>
Date: Sun, 8 Jul 2018 18:05:46 +0300
Subject: [PATCH 0805/1200] arm64: dts: a3900: update configuration document

Leave the only supported configurations - 'A' and 'B'.

Change-Id: I1c391d01c34fc116671d05d7a085b1ab4235b35a
Signed-off-by: Igal Liberman <igall@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/57777
Tested-by: iSoC Platform CI <ykjenk@marvell.com>
Reviewed-by: Kostya Porotchkin <kostap@marvell.com>
---
 doc/mvebu/a7k-a8k/armada3900-db-setup.txt | 149 ++++++++++++++--------
 1 file changed, 94 insertions(+), 55 deletions(-)

diff --git a/doc/mvebu/a7k-a8k/armada3900-db-setup.txt b/doc/mvebu/a7k-a8k/armada3900-db-setup.txt
index 9880860a3b..d9c16eddba 100644
--- a/doc/mvebu/a7k-a8k/armada3900-db-setup.txt
+++ b/doc/mvebu/a7k-a8k/armada3900-db-setup.txt
@@ -17,68 +17,107 @@ To switch board configuration:
 Note:
 Booting Linux requires using the same Device Tree configuration as used in U-Boot.
 
+Board Setup Options
+~~~~~~~~~~~~~~~~~~~
 
-Board Target Usage and Setup Options
--------------------
-
-|		| 1: VD				| 2: VD-NAND			| 3: AXIS		|
-|---------------|-------------------------------|-------------------------------|-----------------------|
-|Device tree	| armada-3900-vd.dts		| armada-3900-vd-nand.dts	| armada-3900-axis.dts	|
-|Purpose	| internal test	with NOR boot	| internal test with nand boot	| for customer	 	|
-|PCB		| TB_A3900-BGA			| TB_A3900-BGA			| RD-9068-AXIS		|
-|pcie x 2 iface	| stardard x2 interface		| startard x 2 interface	| mini x 2 interface	|
-|pcie x 1 iface	| mini x2 interface		| mini x2 interface		| mini x 2 interface	|
-|mochi 		| external through mcix4	| external through mcix4	| hardwired with sc5	|
++---------------+-----------------------+-----------------------+
+|		| 4: VD-A		| 4: VD-B		|
++===============+=======================+=======================+
+|Device tree	| armada-3900-vd-A.dts  | armada-3900-vd-B.dts	|
++---------------+-----------------------+-----------------------+
 
 The tables below summarize the interface configuration of each setup.
 
 SerDes Configuration
----------------------
- Lane	|  VD/VD-NAND/AXIS		|  AXIS				|
---------|-------------------------------|-------------------------------|
- 0	|  PCIe0 (x2)			|  PCIe0 (x1)			|
- 1	|  PCIe0 (x2)	        	|  USB3 HOST0	        	|
- 2	|  SGMII0 (auto-neg <= 1G) (*)	|  SGMII0 (auto-neg <= 1G) (*)	|
- 3	|  SGMII1 (auto-neg <= 1G)	|  SGMII1 (auto-neg <= 1G)	|
- 4	|  USB3 HOST1	        	|  USB3 HOST1	        	|
- 5	|  PCIe2 (x1)	        	|  PCIe2 (x1)	        	|
--------------------------------------------------------------------------
-
-Multi purpose pin configurations
---------------------------------
- AP806 pin	| 1: VD		| 2: VD-NAND	| 3: AXIS	|
-----------------|---------------|---------------|---------------|
-	AP-SDIO | N/C		| N/C		| N/C		|
-	AP-SPI0 | [0-3]		| [0-3]		| [0-3]		|
-	AP-I2C	| [4-5]		| [4-5]		| [4-5]		|
-	AP-UART0| [11,19]	| [11,19]	| [11,19]	|
-
- CP110 pin	| 1: VD		| 2: VD-NAND	| 3: AXIS	|
-----------------|---------------|---------------|---------------|
- CP-SPI1	| [13-16]	| N/C		| N/C		|
- CP-I2C0	| N/C		| N/C		| [2-3]		|
- CP-I2C1	| [37-38]	| [37-38]	| [37-38]	|
- NAND		| N/C		| [13,15-27]	| [13,15-27]	|
- CP-UART0	| [59-62]	| [59-62]	| [59-62]	|
- CP-UART1	| [46-47,49,58]	| [46-47,49,58] | [46-47,49,58] |
- SMI		| [32,34]	| [32,34]	| [32,34]	|
- XSMI		| [35-36]	| [35-36]	| [35-36]	|
- USB0_VDD 	| [44]		| [44]		| [7]		|
- USB1_VDD 	| [45]		| [45]		| [5]		|
- IHB-ENABLE     | [56]          | [56]		| [56]		|
- IHB-RESET      | [57]		| [57]		| [57]		|
- IOT-RESET      | N/C		| N/C		| [0]		|
- ETH-PHY-RESET  | N/C		| N/C		| [1]		|
- PPS-RESET      | N/C		| N/C		| [29]		|
+~~~~~~~~~~~~~~~~~~~~
+
++---------------+---------------+---------------+
+| CP0 Lane	| 3: VD-A	| 4: VD-B	|
++===============+===============+===============+
+| 0		| PCIE0 (x1)    | PCIE0 (x1)    |
++---------------+---------------+---------------+
+| 1		| USB3_HOST0	| USB3_HOST0	|
++---------------+---------------+---------------+
+| 2		| SFI0 (5G)     | SFI0 (5G)	|
++---------------+---------------+---------------+
+| 3		| UNCONNECTED	| UNCONNECTED	|
++---------------+---------------+---------------+
+| 4		| SFI1 (5G)	| SGMII1 (1G)	|
++---------------+---------------+---------------+
+| 5		| PCIE2 (x1)    | PCIE2 (x1)    |
++---------------+---------------+---------------+
+
+Multi-purpose pin configurations
+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+
++---------------+---------------+---------------+
+|AP807 pin	| 1: VD-A	| 2: VD-B	|
++===============+===============+===============+
+|	AP-SDIO | N/C           | N/C           |
++---------------+---------------+---------------+
+|	AP-SPI0 | [0-3]         | [0-3]         |
++---------------+---------------+---------------+
+|	AP-I2C	| [4-5]		| [4-5]		|
++---------------+---------------+---------------+
+|	AP-UART0| [11,19]	| [11,19]	|
++---------------+---------------+---------------+
+
++---------------+---------------+---------------+
+|CP0 pin:	| 4: VD-A	| 5: VD-B	|
++===============+===============+===============+
+| CP-SPI1	| N/C		| N/C		|
++---------------+---------------+---------------+
+| NAND		| [13,15-27]	| [13,15-27]	|
++---------------+---------------+---------------+
+| SMI		| [32,34]	| [32,34]	|
++---------------+---------------+---------------+
+| XSMI		| [35-36]	| [35-36]	|
++---------------+---------------+---------------+
+| CP-I2C0	| N/C		| N/C		|
++---------------+---------------+---------------+
+| CP-I2C1	| [37-38]	| [37-38]	|
++---------------+---------------+---------------+
+| USB0_VDD	| [44]		| [44]		|
++---------------+---------------+---------------+
+| USB1_VDD	| [45]		| [45]		|
++---------------+---------------+---------------+
+| IHB_ENABLE	| [56]		| [56]		|
++---------------+---------------+---------------+
+| IHB_RESET	| [57]		| [57]		|
++---------------+---------------+---------------+
+| IOT_RESET	| N/C		| N/C		|
++---------------+---------------+---------------+
+| ETH-PHY-RESET	| N/C		| N/C		|
++---------------+---------------+---------------+
+| PPS-RESET	| N/C		| N/C		|
++---------------+---------------+---------------+
+| CP-UART1	| [46-47,49,58]	| [46-47,49,58]	|
++---------------+---------------+---------------+
+| CP-UART0	| [59-62]	| [59-62]	|
++---------------+---------------+---------------+
 
 Network configuration
----------------------
-1: VD/VD-NAND/AXIS
----------------------
- Interface	| GMAC Port	| Board Interface			|
- ---------------|---------------|---------------------------------------|
- eth0		| 0		| SGMII (*)                         	|
- eth1		| 2		| SGMII                         	|
+~~~~~~~~~~~~~~~~~~~~~
+
+Setup 4 (VD-A):
+
++---------------+-------+---------------+---------------+-------------------------------+
+| Interface	| CP#   | PPv2 Port     | GMAC Port     | Board Interface               |
++===============+=======+===============+===============+===============================+
+| eth0		| CP0   | eth0          | 0             | SFI (5G)             		|
++---------------+-------+---------------+---------------+-------------------------------+
+| eth1		| CP0   | eth1          | 2             | SFI (5G)			|
++---------------+-------+---------------+---------------+-------------------------------+
+
+Setup 5 (VD-B):
+
++---------------+-------+---------------+---------------+-------------------------------+
+| Interface	| CP#   | PPv2 Port     | GMAC Port     | Board Interface               |
++===============+=======+===============+===============+===============================+
+| eth0		| CP0   | eth0          | 0             | SFI (5G)                      |
++---------------+-------+---------------+---------------+-------------------------------+
+| eth1		| CP0   | eth1          | 2             | SGMII1 (1G)                   |
++---------------+-------+---------------+---------------+-------------------------------+
 
 Notes:
 	- (*) eth0/serdes2 are expected to run with 5G speed but u-boot can't dynammically change the
-- 
2.22.0

